<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot</title>
  </head>
  <body>
    <div class="js-container"></div>

    <!-- <script src="react-basics.js"></script> -->
    <!-- <script src="https://unpkg.com/supersimpledev@8.6.4/external-library.js"></script>
    
   -->
    <script src="https://unpkg.com/supersimpledev/react.js"></script>
    <script src="https://unpkg.com/supersimpledev/react-dom.js"></script>

    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="text/babel">

    function ChatInput() {
      return (
        <div>
          <input type="text" 
            placeholder="Type your message here..." 
            size="50" 
          />
          <button>Send</button>
        </div>  
      );
    }

    function ChatMsg({message, sender}) {
      // const message = props.message;
      // const sender = props.sender;
      // const { message, sender } = props;

      // if (sender === 'user') {
      //   return (
      //     <div>
      //       <p>              
      //         <strong>User:</strong> {message} 
      //         <img src=".\user.png" alt="ChatUser GIF" width="30" />                  
      //       </p>
      //     </div>
      //   );
      // }
     
        return (
          <div>

              {sender.toLowerCase() === 'bot' && (
                <img src=".\robot.png" alt="Chatbot GIF" width="30" />
              )}
              <strong>{sender}:</strong> {message}                   
              {sender.toLowerCase()  === 'user' && (
                <img src=".\user.png" alt="ChatUser GIF" width="30" />
              )}

          </div>
        );

    }

      




    function  App() {
      const [messages, setMessages] = React.useState([]);
      const chatMessages = [
        { message: "Hello Chatbot", sender: "User" },
        { message: "!!WHAT!!!", sender: "Bot" },
        { message: "Shhhhhsh!!", sender: "User" },
        { message: "..what..", sender: "Bot" }
      ];  

      // const chatMsgComponenets = 
      chatMessages.map((chatMessage, index) => {
          // console.log(`Message ${index + 1}: ${chatMessage.message} (Sender: ${chatMessage.sender})`);
          return (
            <ChatMsg key={chatMessage.index} message={chatMessage.message} sender={chatMessage.sender} />
          );
        }
      ); 

      return (
        <>             
          <p>IM Date: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {Date()}</p>
          <ChatInput />
          {chatMessages.map((chatMessage, index) => {
            // console.log(`Message ${index + 1}: ${chatMessage.message} (Sender: ${chatMessage.sender})`);
            return (
              <ChatMsg key={index} message={chatMessage.message} sender={chatMessage.sender} />
            );
          })} 
        </>            
      );
    }
 
      const container = document.querySelector('.js-container');
      // ReactDOM.createRoot(container).render('Welcome to SuperSimpleDev React Course');
      ReactDOM.createRoot(container).render(<App /> );
    </script>
  </body>
</html>